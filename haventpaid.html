<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>นักศึกษาที่ยังไม่ชำระเงิน</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<h2>นักศึกษาที่ยังไม่ชำระเงิน</h2>
<div id="unpaidList"></div>

<script>
const unpaidList = document.getElementById('unpaidList');

async function loadUnpaid() {
  const [allRes, paidRes] = await Promise.all([
    fetch('http://localhost:3000/students'),
    fetch('http://localhost:3000/paid')
  ]);
  const allStudents = await allRes.json();
  const paidStudents = (await paidRes.json()).map(s => s.id);
  const unpaid = allStudents.filter(id => !paidStudents.includes(id));

  unpaidList.innerHTML = unpaid.map(id => `<div>${id}</div>`).join('');
}

loadUnpaid();
</script>
</body>
</html>
